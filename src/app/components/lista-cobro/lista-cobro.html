<div class="main-container">
  
  <div class="control-panel">
    <div class="control-group">
      <button class="btn btn-primary" (click)="cargarPrimeraPagina()">
        ↻ Recargar Inicio
      </button>
    </div>

    <div class="control-group">
      <label for="tamano" class="label-control">Filas por página:</label>
      <input
        id="tamano"
        type="number"
        min="1"
        class="input-control"
        [(ngModel)]="tamanoPagina"
        (change)="onTamanoChange()"
      />
    </div>
  </div>

  <div class="table-card">
    
    <div *ngIf="cargando" class="loading-overlay">
      <div class="spinner"></div>
      <p>Cargando datos...</p>
    </div>

    <div class="table-responsive">
      <table class="modern-table">
        <thead>
          <tr>
            <th style="width: 80px;">ID</th>
            <th>Nombre</th>
            <th>Teléfono</th>
            <th>Dirección</th>
            <th style="text-align: right;">Monto</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let c of listaCobros">
            <td><span class="badge-id">#{{ c.id }}</span></td>
            <td class="fw-bold">{{ c.nombre }}</td>
            <td>{{ c.telefono || '---' }}</td>
            <td>{{ c.direccion || '---' }}</td>
            <td style="text-align: right; color: #2e7d32; font-weight: bold;">
              {{ c.monto | currency }}
            </td>
          </tr>
          <tr *ngIf="!cargando && listaCobros.length === 0">
            <td colspan="5" class="empty-state">
              No hay registros para mostrar.
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="pagination-footer" *ngIf="primeraCargaRealizada && listaCobros.length > 0">
      <span class="pagination-info">
        Página <strong>{{ paginaActual }}</strong> de <strong>{{ totalPaginas }}</strong>
        <span class="text-muted">(Total: {{ totalRegistros }})</span>
      </span>

      <div class="pagination-buttons">
        <button 
          class="btn btn-outline" 
          (click)="anteriorPagina()" 
          [disabled]="paginaActual <= 1">
          ❮ Anterior
        </button>
        
        <button 
          class="btn btn-outline" 
          (click)="siguientePagina()" 
          [disabled]="paginaActual >= totalPaginas">
          Siguiente ❯
        </button>
      </div>
    </div>

  </div>
</div>